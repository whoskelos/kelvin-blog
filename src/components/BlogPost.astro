---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import { undefined } from "astro:schema";

type Props = {
    post: CollectionEntry<"blog">;
}

const { post } = Astro.props;
const { title, pubDate } = post.data;

---

<article class="post-card">
    <header>
        <Image src="https://img.freepik.com/vector-gratis/carga-imagenes-linea-pagina-destino_23-2148282428.jpg?ga=GA1.1.1758520598.1737823124&semt=ais_authors_boost" alt="default image" width={100} height={100} class="post-card-image" />
        <time datetime={pubDate.toISOString()}>
            {
                pubDate.toLocaleDateString(undefined, {
                    dateStyle: "medium",
                    timeZone: "UTC"
                })
            }
        </time>
    </header>
    <main>
        <h3>{title}</h3>
    </main>
    <footer class="post-card-footer">
        <a href={`posts/${post.slug}`} class="post-card-btn">Read post</a>
    </footer>
</article>

<style>
    .post-card {
        width: 100%;
        padding: 1.5rem;
        background: #7065C1;
        display: grid;
        grid-template-rows: auto auto 55px;
        border-radius: .5rem;
        box-shadow: 0px 0px 20px #7065C2;
        header .post-card-image {
            width: 100%;
            height: auto;
            aspect-ratio: 4/3;
            object-fit: cover;
        }

        .post-card-footer {
            padding: 0;
            display: flex;
            align-items: end;
            justify-content: end;
            .post-card-btn {
                display: inline-block;
                background: #0f0e17;
                padding: .75rem;
                border-radius: .5rem;
                justify-self: end;
            }

        }
    }
</style>
